(this["webpackJsonpgaiforming-mars"]=this["webpackJsonpgaiforming-mars"]||[]).push([[0],{10:function(e,t,r){e.exports=r(19)},15:function(e,t,r){},16:function(e,t,r){},19:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(9),i=r.n(o),c=(r(15),r(1)),l=r(2),u=r(3),s=r(4),h=(r(16),r(5)),f=r(6),p=r.n(f),m=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"canPurchase",value:function(e,t){if(!e)return!1;for(var r in t.cost){if(!(r in e.resources))return!1;var a=e.resources[r],n=t.cost[r];if("value"in n&&n.value>a.value)return!1;if("production"in n&&n.production>a.production)return!1}return!0}},{key:"purchase",value:function(t,r){if(!e.canPurchase(t,r))return t;var a=Object(h.a)({},t,{resources:Object(h.a)({},t.resources)});for(var n in r.cost){var o=r.cost[n],i=a.resources[n]=Object(h.a)({},a.resources[n]);"value"in o&&(i.value-=o.value),"production"in o&&(i.production-=o.production)}for(var c in r.benefit){var l=r.benefit[c],u=a.resources[c]=Object(h.a)({},a.resources[c]);"value"in l&&(u.value+=l.value),"production"in l&&(u.production+=l.production)}return a}},{key:"makeGame",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.playerCount,a=void 0===r?2:r;return{board:this.makeBoard(),globalParameters:this.makeGlobalParameters(),activePlayer:null,players:this.players.slice(0,a).map((function(t){return e.makePlayer(t)}))}}},{key:"makeBoard",value:function(){return p.a.range(9).map((function(e){return p.a.range(9).map((function(t){return{x:t,y:e,active:t>=Math.ceil((Math.abs(e-4)-1)/2)&&t<=8-Math.ceil(Math.abs(e-4)/2)||0===e&&0===t||8===e&&0===t}}))}))}},{key:"makeGlobalParameters",value:function(){var e=this.globalParameters.map((function(e){return Object(h.a)({},e,{value:e.initialValue})}));return Object.assign(e,p.a.indexBy(e,"name")),e}},{key:"makePlayer",value:function(e){var t=this;return Object(h.a)({},e,{resources:p.a.object(this.resources.map((function(e){return[e.name,t.makeResource(e)]}))),tags:p.a.object(this.tags.map((function(e){return[e.name,t.makeTag(e)]}))),hand:[],playedCards:[],active:!1})}},{key:"makeResource",value:function(e){return{value:e.initialValue||0,production:e.initialProduction||0,type:e}}},{key:"makeTag",value:function(e){return{played:0,cards:[],type:e}}}]),e}();m.resources=[{name:"tr",label:"Terraform Rating",colour:"cyan",fontColour:"white",initialProduction:20},{name:"money",label:"MegaCredits",colour:"yellow",fontColour:"black",initialValue:42},{name:"steel",label:"Steel",colour:"brown",fontColour:"white"},{name:"titanium",label:"Titanium",colour:"black",fontColour:"white"},{name:"plants",label:"Plants",colour:"green",fontColour:"white"},{name:"energy",label:"Energy",colour:"purple",fontColour:"white"},{name:"heat",label:"Heat",colour:"orangered",fontColour:"white"}],m.tags=[{name:"building",label:"Building",colour:"brown",fontColour:"white",prefix:"B"},{name:"space",label:"Space",colour:"black",fontColour:"white",prefix:"S"},{name:"plant",label:"Plant",colour:"green",fontColour:"white",prefix:"P"},{name:"energy",label:"Energy",colour:"purple",fontColour:"white",prefix:"En"},{name:"science",label:"Science",colour:"white",fontColour:"black",prefix:"S"},{name:"earth",label:"Earth",colour:"cyan",fontColour:"black",prefix:"Ea"},{name:"jupiter",label:"Jupiter",colour:"orange",fontColour:"black",prefix:"J"},{name:"animal",label:"Animal",colour:"green",fontColour:"white",prefix:"A"},{name:"microbe",label:"Microbe",colour:"green",fontColour:"white",prefix:"M"},{name:"event",label:"Event",colour:"yellow",fontColour:"black",prefix:"Ev"},{name:"city",label:"City",colour:"grey",fontColour:"black",prefix:"C"}],m.globalParameters=[{name:"temperature",label:"Temperature",initialValue:1,total:20}],m.standardProjects=[{name:"powerPlant",cost:{money:{value:11}},benefit:{energy:{production:1}}}],m.players=[{id:1,colour:"red",fontColour:"white"},{id:2,colour:"blue",fontColour:"white"}],m.resourcesByName=p.a.indexBy(m.resources,"name"),m.standardProjectsByName=p.a.indexBy(m.standardProjects,"name");var y=m,d=r(7),v=function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){var e=this.props,t=e.id,r=e.size,a=void 0===r?this.constructor.size:r,o=e.position,i=e.fill;return n.a.createElement("polygon",{id:t,transform:o?"translate(".concat(o.x,", ").concat(o.y,")"):void 0,points:this.constructor.getPointsString(a),stroke:"red",strokeWidth:3,fill:i})}}],[{key:"getPointsString",value:function(e){if(!(e in this.pointsStringBySize)){var t=e/50;this.pointsStringBySize[e]=this.points.map((function(e){var r=Object(d.a)(e,2),a=r[0],n=r[1];return"".concat(a*t,",").concat(n*t)})).join(" ")}return this.pointsStringBySize[e]}}]),r}(a.Component);v.size=25,v.points=[[0,50],[43,25],[43,-25],[0,-50],[-43,-25],[-43,25],[0,50]],v.pointsStringBySize={};var g=v,b=function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){var e=this.props,t=e.position,r=void 0===t?{x:0,y:0}:t,a=e.fill;return n.a.createElement("use",{x:r.x,y:r.y,xlinkHref:"#".concat(this.constructor.xlinkHref),fill:a})}}]),r}(a.Component);b.xlinkHref="hexagonDefault";var j=function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){return n.a.createElement(g,{id:b.xlinkHref})}}]),r}(a.Component);b.Def=j;var k=b,O=function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){var e=this.props,t=e.size,r=void 0===t?g.size:t,a=e.x,o=void 0===a?0:a,i=e.y,c=void 0===i?0:i,l=e.fill,u=void 0===l?"black":l,s=this.constructor.getMeasurements(r),h=s.shortSize,f=s.longOffset,p=s.shortOffset;return n.a.createElement(k,{position:{x:(c%2===0?0:h/2)+p*o,y:f*c},fill:u})}}],[{key:"getMeasurements",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.size,t=2*e,r=Math.floor(e*Math.sqrt(3)),a=3*t/4-1,n=r-1;return{longSize:t,shortSize:r,longOffset:a,shortOffset:n}}}]),r}(a.Component),x=function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){var e=this.props,t=e.board,r=e.offset,a=this.constructor.getBorder(t),o=a.x,i=a.y,c=a.width,l=a.height;return n.a.createElement("g",{transform:"translate(".concat(-o+r.x,", ").concat(-i+r.y,")")},n.a.createElement("rect",{x:o,y:i,width:c,height:l}),t.map((function(e){return e.filter((function(e){return e.active})).map((function(e){return n.a.createElement(O,{key:"".concat(e.x,",").concat(e.y),x:e.x,y:e.y})}))})))}}],[{key:"getBorder",value:function(e){var t=O.getMeasurements(),r=t.longSize,a=t.shortSize,n=t.longOffset,o=t.shortOffset;return{x:-a/2-20,y:-r/2-20,width:e[0].length*o+40,height:e.length*n-n+r+40}}},{key:"getSize",value:function(e){var t=this.getBorder(e);return{width:t.width,height:t.height}}}]),r}(a.Component),E=function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){var e=this.props,t=e.resource,r=e.offset;return n.a.createElement("g",{transform:"translate(".concat(r.x,", ").concat(3+r.y,")")},n.a.createElement("rect",{width:19,height:19,fill:t.type.colour,stroke:"slategrey",strokeWidth:4}),n.a.createElement("svg",{width:19,height:19},n.a.createElement("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",fill:t.type.fontColour},t.production)),n.a.createElement("rect",{width:19,height:19,fill:"transparent",stroke:"transparent",strokeWidth:4},n.a.createElement("title",null,t.production," ",t.type.label," per generation")))}}]),r}(a.Component),w=function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){var e=this.props,t=e.resource,r=e.offset;return n.a.createElement("g",{transform:"translate(".concat(r.x,", ").concat(3+r.y,")")},n.a.createElement("rect",{width:19,height:19,fill:t.type.colour,stroke:"black"}),n.a.createElement("svg",{width:19,height:19},n.a.createElement("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",fill:t.type.fontColour},t.value)),n.a.createElement("rect",{width:19,height:19,fill:"transparent",stroke:"transparent"},n.a.createElement("title",null,t.value," ",t.type.label)))}}]),r}(a.Component),C=function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){var e=this.props,t=e.resource,r=e.offset,o=e.vertical,i=void 0===o||o;return n.a.createElement(a.Fragment,null,n.a.createElement(w,{offset:{x:0+r.x,y:0+r.y},resource:t}),n.a.createElement(E,{offset:i?{x:0+r.x,y:25+r.y}:{x:25+r.x,y:0+r.y},resource:t}))}}]),r}(a.Component),P=function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){var e=this.props,t=e.tag,r=e.offset;return n.a.createElement("g",{transform:"translate(".concat(r.x,", ").concat(3+r.y,")")},n.a.createElement("rect",{width:19,height:19,rx:10,ry:10,fill:t.type.colour,stroke:"black"}),n.a.createElement("svg",{width:19,height:19},n.a.createElement("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",fill:t.type.fontColour},t.type.prefix,t.played)),n.a.createElement("rect",{width:19,height:19,rx:10,ry:10,fill:"transparent",stroke:"transparent"},n.a.createElement("title",null,t.played," ",t.type.label," tags played")))}}]),r}(a.Component),S=function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(c.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).selectPlayer=function(){e.props.control.selectPlayer(e.props.player)},e}return Object(l.a)(r,[{key:"render",value:function(){var e=this.props,t=e.player,r=e.offset,a=this.constructor.getSize();return n.a.createElement("g",{transform:"translate(".concat(r.x,", ").concat(r.y,")")},n.a.createElement("rect",{x:0,y:0,width:a.width,height:a.height,fill:t.colour,fillOpacity:t.active?void 0:.4,stroke:"black",strokeWidth:2,onClick:this.selectPlayer,className:t.active?void 0:"clickable"}),n.a.createElement("text",{x:10,y:20,fill:t.fontColour,style:{pointerEvents:"none"}},"Player #",t.id),n.a.createElement(E,{offset:{x:100,y:0},resource:t.resources.tr}),y.resources.filter((function(e){return"tr"!==e.name})).map((function(e,r){return n.a.createElement(C,{key:e.name,offset:{x:100+25*(r+1),y:0},resource:t.resources[e.name]})})),y.tags.map((function(e,r){return n.a.createElement(P,{key:e.name,offset:{x:100+25*y.resources.length+r%Math.ceil(y.tags.length/2)*25,y:25*Math.floor(r/Math.ceil(y.tags.length/2))},tag:t.tags[e.name]})})))}}],[{key:"getSize",value:function(){return{width:100+25*y.resources.length+25*(y.tags.length%Math.ceil(y.tags.length/2)+1),height:50}}}]),r}(a.Component),z=function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){var e=this.props,t=e.players,r=e.offset,a=e.control,o=S.getSize();return n.a.createElement("g",{transform:"translate(".concat(r.x,", ").concat(r.y,")")},t.map((function(e,t){return n.a.createElement(S,{key:e.id,offset:{x:0,y:(o.height+10)*t},player:e,control:a})})))}}],[{key:"getSize",value:function(e){var t=S.getSize();return{width:t.width,height:t.height*e.length+10*(e.length-1)}}}]),r}(a.Component),B=function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){var e=this.props.offset;return n.a.createElement("path",{transform:"translate(".concat(e.x,", ").concat(e.y-5,")"),d:this.constructor.path})}}]),r}(a.Component);B.path="M15.375,7L10,2.54C9.695,2.287,9.461,2,9,2C8.375,2,8,2.516,8,3v3H1C0.45,6,0,6.45,0,7v2c0,0.55,0.45,1,1,1h7v3  c0,0.484,0.375,1,1,1c0.461,0,0.695-0.287,1-0.54L15.375,9C15.758,8.688,16,8.445,16,8S15.758,7.313,15.375,7z";var M=B,A=function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(c.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).purchase=function(){e.props.control.purchaseProject(e.props.activePlayer,e.props.project)},e}return Object(l.a)(r,[{key:"canPurchase",value:function(){return y.canPurchase(this.props.activePlayer,this.props.project)}},{key:"render",value:function(){var e=this.props,t=e.offset,r=e.project,a=this.canPurchase();return n.a.createElement("g",{transform:"translate(".concat(t.x,", ").concat(t.y,")")},n.a.createElement(w,{resource:{value:-r.cost.money.value,type:y.resourcesByName.money},offset:{x:0,y:0}}),n.a.createElement(M,{offset:{x:25,y:10}}),n.a.createElement(E,{resource:{production:r.benefit.energy.production,type:y.resourcesByName.energy},offset:{x:50,y:0}}),n.a.createElement("rect",{x:100,y:0,width:130,height:25,fill:"yellow",fillOpacity:a?void 0:.4,stroke:"black",strokeWidth:2}),n.a.createElement("text",{x:110,y:20,fill:"black"},"Power Plant"),n.a.createElement("rect",{x:100,y:0,width:130,height:25,fill:"transparent",className:a?"clickable":void 0,onClick:this.purchase}))}}]),r}(a.Component);y.standardProjectsByName.powerPlant.component=A;var W=A,G=function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){var e=this.props,t=e.offset,r=e.game,a=e.control;return n.a.createElement("g",{transform:"translate(".concat(t.x,", ").concat(t.y,")")},n.a.createElement("rect",{x:0,y:10,width:250,height:300,fill:"silver",stroke:"black",strokeWidth:2}),n.a.createElement("rect",{x:10,y:0,width:130,height:25,fill:"yellow",stroke:"black",strokeWidth:2}),n.a.createElement("text",{x:20,y:20,fill:"black"},"Standard Projects"),y.standardProjects.map((function(e,t){return n.a.createElement(W,{key:t,offset:{x:10,y:35+25*t},activePlayer:r.activePlayer,project:e,control:a})})))}}],[{key:"getSize",value:function(e){return{width:250,height:310}}}]),r}(a.Component),N=function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){var e=this.props,t=e.offset,r=e.parameter,a=this.constructor.getSize(r);return n.a.createElement("g",{transform:"translate(".concat(t.x,", ").concat(t.y,")")},n.a.createElement("rect",{x:0,y:0,width:a.width,height:a.height},n.a.createElement("title",null,r.label,": ",r.value,"/",r.total)),n.a.createElement("text",{x:10,y:20},r.label,": ",r.value,"/",r.total))}}],[{key:"getSize",value:function(e){return{width:200,height:25}}}]),r}(a.Component),H=function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){var e=this.props,t=e.offset,r=e.parameters,a=N.getSize(null);return n.a.createElement("g",{transform:"translate(".concat(t.x,", ").concat(t.y,")")},r.map((function(e,t){var r=t%3,o=Math.floor(t/3);return n.a.createElement(N,{offset:{x:r*a.width+10*Math.max(0,r-1),y:o*a.height+10*Math.max(0,o-1)},key:e.name,parameter:e})})))}}],[{key:"getSize",value:function(e){var t=N.getSize(null),r=Math.ceil(e.length/3);return{width:3*t.width,height:r*t.height+10*Math.max(0,r-1)}}}]),r}(a.Component),T=function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){var e=this.props,t=e.game,r=e.control,a=this.constructor.getSize(t),o=H.getSize(t.globalParameters),i=x.getSize(t.board),c=z.getSize(t.players);return n.a.createElement("svg",{width:a.width,height:a.height},n.a.createElement("defs",null,n.a.createElement(k.Def,null)),n.a.createElement(H,{parameters:t.globalParameters,offset:{x:10,y:10}}),n.a.createElement(x,{board:t.board,offset:{x:10,y:10+o.height+20}}),n.a.createElement(z,{offset:{x:10,y:10+o.height+20+i.height+20},players:t.players,control:r}),n.a.createElement(G,{offset:{x:10,y:10+o.height+20+i.height+20+c.height+20},game:t,control:r}))}}],[{key:"getSize",value:function(e){var t=x.getSize(e.board),r=z.getSize(e.players),a=G.getSize(e);return{width:10+Math.max(t.width,r.width,a.width)+10,height:10+t.height+20+r.height+20+a.height+10}}}]),r}(a.Component),J=function(){function e(t){Object(c.a)(this,e),this.update=t}return Object(l.a)(e,[{key:"selectPlayer",value:function(e){this.update((function(t){return{game:Object(h.a)({},t,{activePlayer:e,players:t.players.map((function(t){return Object(h.a)({},t,{active:t.id===e.id})}))})}}))}},{key:"purchaseProject",value:function(e,t){this.update((function(r){var a=r.players.filter((function(t){return t.id===e.id})),n=Object(d.a)(a,1);if(!(e=n[0]))return null;if(!e.active)return null;var o=y.purchase(e,t);return o===e?null:{game:Object(h.a)({},r,{players:r.players.map((function(e){return e.id===o.id?o:e}))})}})),this.updateActivePlayer()}},{key:"updateActivePlayer",value:function(){this.update((function(e){var t=e.players.filter((function(e){return e.active})),r=Object(d.a)(t,1)[0];return(r=r||null)===e.activePlayer?null:{game:Object(h.a)({},e,{activePlayer:r})}}))}}]),e}(),V=function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(c.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={game:y.makeGame()},e.updateGame=function(t){e.setState((function(e){var r=e.game;return t(r)}))},e.control=new J(e.updateGame),e}return Object(l.a)(r,[{key:"render",value:function(){var e=this.state.game;return n.a.createElement(a.Fragment,null,"Gaiaforming Ares",n.a.createElement("br",null),n.a.createElement(T,{game:e,control:this.control}))}}]),r}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.eb2f04b2.chunk.js.map